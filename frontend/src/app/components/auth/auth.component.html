<div class="auth-container">
    <div class="auth-content">
        <div class="auth-header">
            <img src="https://stackoverflow.design/assets/img/logos/so/logo-stackoverflow.svg"
                 alt="Stack Overflow"
                 class="auth-logo" />

        </div>

        <div class="auth-tabs">
            <button [class.active]="!isSignUp" (click)="isSignUp = false">Log in</button>
            <button [class.active]="isSignUp" (click)="isSignUp = true">Sign up</button>
        </div>

        <!-- Sign In Form -->
        <form *ngIf="!isSignUp" class="auth-form" (ngSubmit)="onSignIn()">
            <mat-form-field appearance="outline">
                <mat-label>Email</mat-label>
                <input matInput type="email" [(ngModel)]="signInForm.email" name="email" required>
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>Password</mat-label>
                <input matInput [type]="hidePassword ? 'password' : 'text'"
                       [(ngModel)]="signInForm.password"
                       name="password"
                       required>
                <button mat-icon-button matSuffix
                        (click)="hidePassword = !hidePassword"
                        type="button">
                    <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
            </mat-form-field>

            <button mat-flat-button color="primary" type="submit" class="submit-btn">
                Log in
            </button>
        </form>

        <!-- Sign Up Form -->
        <form *ngIf="isSignUp" class="auth-form" (ngSubmit)="onSignUp()">
            <mat-form-field appearance="outline">
                <mat-label>Username</mat-label>
                <input matInput [(ngModel)]="signUpForm.username" name="username" required>
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>Email</mat-label>
                <input matInput type="email" [(ngModel)]="signUpForm.email" name="email" required>
            </mat-form-field>

            <mat-form-field appearance="outline" class="password-field" [class.mat-focused]="passwordField.focused">
                <mat-label>Password</mat-label>
                <input #passwordField="matInput"
                       matInput
                       [type]="hidePassword ? 'password' : 'text'"
                       [(ngModel)]="signUpForm.password"
                       name="password"
                       required>
                <button mat-icon-button matSuffix
                        (click)="hidePassword = !hidePassword"
                        type="button">
                    <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
                <mat-hint *ngIf="passwordField.focused">Passwords must contain at least eight characters, including at least 1 letter and 1 number.</mat-hint>
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>Confirm Password</mat-label>
                <input matInput [type]="hidePassword ? 'password' : 'text'"
                       [(ngModel)]="signUpForm.confirmPassword"
                       name="confirmPassword"
                       required>
            </mat-form-field>

            <button mat-flat-button color="primary" type="submit" class="submit-btn">
                Sign up
            </button>
        </form>

        <div class="auth-footer">
            <p *ngIf="!isSignUp">
                Don't have an account?
                <button mat-button color="primary" (click)="isSignUp = true">Sign up</button>
            </p>
            <p *ngIf="isSignUp">
                Already have an account?
                <button mat-button color="primary" (click)="isSignUp = false">Log in</button>
            </p>
        </div>
    </div>
</div>